# Functions and Modules


## Modules


```elixir
defmodule MyModule do
  def my_function(arg1, arg2) do
    # ...
  end
end
```

## Struct


```elixir
defmodule Candidate do
    defstruct [name: "qiushi", age: 18]
end

c = %Candidate{name: "tom"}
#> %Candidate{name: "tom", age: 18}
```


## Anoynmous Functions

```elixir
square = fn x -> x * x end
square.(5)
#> 25
```

### Anoynmous Functions with Pattern Matching

```elixir
logo_file = fn
  (:democratic) -> "donkey.png"
  (:republican) -> "elephant.png"
  (:green) -> "flower.png"
  (:other) -> "other.png"
end

logo_file.(:green)
#> "flower.png"
```

## Module attributes

Module attributes are computed at compile time.

```elixir
defmodule Mascot do
  @mascots %{
    democratic: "monkey",
    republican: "elephant",
    green: "plant",
  }

  @parties Map.keys(@mascots)

  def mascot(party) do
    @mascots[party]
  end


  def logo(party, size) when party in @parties do
    m = mascot(party)
    do_logo_size(m, size)
  end

  def logo(party, size) do
    {:error, :unknown_party}
  end

  defp do_logo_size(mascot, :small), do: "#{mascot}_small.png"
  defp do_logo_size(mascot, :normal), do: "#{mascot}_normal.png"
  defp do_logo_size(mascot, :large), do: "#{mascot}_large.png"
  defp do_logo_size(mascot, unknown), do: {:error, :unknown_size}

end
```

## Protocols

